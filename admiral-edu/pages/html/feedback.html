<html>
  
  <head>
    <title>Captain Teach - Review</title>

    <script>
      function save(json, callback){
      }

      function load(callback){
	  var xhr = new XMLHttpRequest();
          xhr.open("POST", @(urlgen load-url), true);
	  xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');
          xhr.send();
          xhr.onreadystatechange = function () {
	      if (xhr.readyState == 4) {
		  callback(JSON.parse(xhr.responseText));
	      };
	  };       
      }
    </script>
    
    <script src="/lib/codemirror.js"></script>
    <script src="/mode/clike/clike.js"></script>
    <script src="/mode/markdown/markdown.js"></script>
    <script src="/bin/rubric.js"></script>
    <link rel="stylesheet" href="/lib/codemirror.css">
    <link rel="stylesheet" href="/css/review.css">
  </head>
  
  
<body>
  <div class="container">
    <iframe src=@(urlgen file-container) scrolling="no" class="file-frame"></iframe>
  </div>
  <div id="message" class="message">
    @(xexprs->string display-message)
  </div>
  <div id="rubric" class="rubric"> 
  </div>
  <div id="feedback" class="feedback">
    <form method="post">
    <div class="rubric-item instruction">
      <p>Flag this review: <input type="checkbox" name="flag" @(checkbox-checked review-flagged?)></p>
    </div>
    <div class="rubric-item free-response question">
      <p>Leave feedback about what was useful / not useful on this review.</p>
      <textarea style="height: 40px;" name="feedback">@(xexpr->string review-feedback)</textarea>
    </div>

    <div class="submit-button"><input type="submit" value="Submit"></div>


    </div>
  </div>
  </form>
</body>
</html>
