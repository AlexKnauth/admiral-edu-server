<html>
  @bogusbinding
  <head>
    <title>Captain Teach - File Container</title>

    <script>

      var defaultMode = "@(js-str default-mode)";

      function save(json, callback){
	  var xhr = new XMLHttpRequest();
	  xhr.open("POST", @(urlgen save-url), true);
	  xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');
	  xhr.send(json);
	  xhr.onloadend = callback;
      }

      function load(callback){
	  var xhr = new XMLHttpRequest();
          xhr.open("POST", @(urlgen load-url), true);
	  xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');
          xhr.send();
          xhr.onreadystatechange = function () {
	      if (xhr.readyState == 4) {
		  callback(xhr.responseText);
	      };
	  }; 
      }
    </script>

    <script src="/lib/codemirror.js"></script>
    <script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.10.1.min.js"></script>
    <script src="/bin/review.js"></script>
    <link rel="stylesheet" href="/lib/codemirror.css">
    <link rel="stylesheet" href="/css/file-container.css">
  </head>
  
  
  <body>    
    <div id="file-container" class="file-container">
      <div id="file-header" class="file-header">
	<h1>
	  @(safe-id assignment) /
	  @(safe-id step) / 
	  @(filename path)
	</h1>
	<div id="syntax-menu" class="syntax-menu">
	</div>
      </div>
      <!-- HOLY XXXXX, BATMAN... THE FILE CONTENTS ARE INCLUDED NAKED HERE... -->
      @content
    </div>
  </body>

</html>
